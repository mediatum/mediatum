<!--
  Copyright (C) since 2007, Technical University of Munich (TUM) and mediaTUM authors
  SPDX-License-Identifier: AGPL-3.0-or-later
-->
<tal:block metal:define-macro="editorfield">
    <select class="text" tal:attributes="disabled python:{0:None,1:'disabled'}[int(lock)]; style python:u'width:{}px'.format(width-16); name python:name; id python:u'select_{}'.format(name); required required">
        <option tal:repeat="v valuelist" tal:attributes="value python:v['select_value']; selected python:'selected' if v['select_value']==value else None" tal:content="raw python:v['select_text']"/>
    </select>
    <tal:block tal:condition="python:lock!=0" tal:attributes="id python:u'lockspan_{}'.format(name)">&nbsp;
        <input tal:attributes="name python:u'lock_{}'.format(name); id python:u'lock_{}'.format(name); onclick python:u'handlelock(\'{}\')'.format(name)" type="checkbox"/>
        <small style="color: silver" i18n:translate="editor_overwrite">TEXT</small>
    </tal:block>
</tal:block>


<select metal:define-macro="searchfield" tal:attributes="name python:name; id python:name;" class="searchfield">
    <tal:block tal:repeat="v valuelist">
    <option
            tal:condition="python:v.opt!='optgroup'"
            tal:attributes="value python:u'{}'.format(v.item); selected python:'selected' if value==v.item else None"
            tal:content="raw python:''.join((v.indent,v.item,v.count))"
           />
       <optgroup tal:condition="python:v.opt=='optgroup'" tal:replace="raw python:v.indent"/>
    </tal:block>
</select>


<tal:block metal:define-macro="metafieldeditor">
    <div class="label" i18n:translate="dlist_edit_source">TEXT</div>
    <input type="text" class="text" name="fieldsetting_data_address" tal:attributes="value python:data_address" style="width:200px;"/>
    <br/>
    <div class="label" i18n:translate="dlist_edit_type">TEXT</div>
    <select name="fieldsetting_data_type" style="width:200px;">
        <option tal:repeat="type types" tal:attributes="value type; selected python:'selected' if type==data_type else None" tal:content="python:u'dlist_type_{}'.format(type)" i18n:translate=""/>
    </select>
    <br/>
    <div class="label" i18n:translate="dlist_edit_attr">TEXT</div>
    <input type="text" class="text" name="fieldsetting_attribute" tal:attributes="value python:attribute" style="width:200px;"/>
    <br/>
    <div class="label" i18n:translate="dlist_edit_valattr">TEXT</div>
    <input type="text" class="text" name="fieldsetting_value" tal:attributes="value python:value" style="width:200px;"/>
    <br/>
    <div class="label" i18n:translate="dlist_edit_format">TEXT</div>
    <input type="text" class="text" name="fieldsetting_selection_format" tal:attributes="value python:selection_format" style="width:200px;"/>
    <br/>
</tal:block>
