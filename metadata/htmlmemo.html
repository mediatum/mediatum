<!--
  Copyright (C) since 2007, Technical University of Munich (TUM) and mediaTUM authors
  SPDX-License-Identifier: AGPL-3.0-or-later
-->
<tal:block metal:define-macro="editorfield">
    <link rel="stylesheet" href="/static/css/metadata/htmlmemo.css" />
    <!-- for mask editor html memo -->
    <script src="/static/js/jquery-1.12.4.js"> </script>
    <script src="/static/js/jquery.textarearesizer.js"> </script>
    <script src="/static/ckeditor/ckeditor.js"> </script>
    <script src="/static/js/metadata/htmlmemo.js"> </script>
    <tal:block tal:condition="python:wysiwyg">
      <div style="float:left;position:relative;">
        <textarea
            rows="4"
            tal:attributes="
                required required;
                name python:u'mediatum-editor-nodefield-value-{}-htmlmemo'.format(name);
                id python:u'mediatum-editor-nodefield-value-{}-htmlmemo'.format(name);
                onkeyup python:'countMeta(this,{})'.format(max_length);
               "
            tal:content="python:value"
          />
      </div>

      <script tal:content="python:u'ckeditor_config(&quot;mediatum-editor-nodefield-value-{}-htmlmemo&quot;);'.format(name)"/>
    <div>
        <div tal:condition="python:max_length" style="text-align:right;padding-right:7px; margin-bottom:7px">
            <small>
                <span tal:attributes="id python:u'number{}'.format(name)" tal:content="python:max_length-len(value)"/>
                <span i18n:translate="editor_htmlmemo_label">TEXT</span>
            </small>
        </div>
    </div>
    </tal:block>

    <tal:block tal:condition="python:not wysiwyg">
      <textarea
        rows="4"
        tal:attributes="name python:u'mediatum-editor-nodefield-value-{}-htmlmemo'.format(name); value python:value; required required"
        tal:content="python:value"
       />
    </tal:block>

    <div style="clear:left"> </div>
</tal:block>

<tal:block metal:define-macro="metafieldeditor">
    <div class="label" i18n:translate="htmlmemo_wysiwyg"/>
    <input type="checkbox" name="fieldsetting_wysiwyg" value="1" tal:attributes="checked python:'checked' if wysiwyg else None" />
    <br />
    <br />
    <div class="label" i18n:translate="mask_edit_max_length">TEXT</div>
    <input tal:attributes="value value" type="text" name="fieldsetting_max_length" rows="4" style="width:250px"/><br/>
</tal:block>
