<!--
  Copyright (C) since 2007, Technical University of Munich (TUM) and mediaTUM authors
  SPDX-License-Identifier: AGPL-3.0-or-later
-->
<tal:block metal:define-macro="editorfield">
    <select
            class="text"
            tal:attributes="
                    class python:'mediatum_multitext' if multiple else 'text';
                    disabled python:'disabled' if lock else None;
                    id python:name;
                    multiple python:'multiple' if multiple else None;
                    name python:name;
                    style python:u'width:{}px'.format(width-16);
                   "
           >
        <tal:block tal:repeat="element elements">
            <option
                    tal:condition="python:not element.optgroup"
                    tal:attributes="value python:element.label; selected python:'selected' if element.selected else None"
                   >
                <tal:block tal:repeat="x python:range(element.indent)">&nbsp;&nbsp;</tal:block>
                <tal:block tal:content="python:element.label"/>
            </option>
            <!-- 0xa0 is the unicode code-point of &nbsp; -->
            <optgroup
                    tal:condition="python:element.optgroup"
                    tal:attributes="label python:u'{}{}'.format(2*element.indent*unichr(0xa0), element.label)"
                   >
            </optgroup>
        </tal:block>
    </select>
    <tal:block tal:condition="python:lock!=0" tal:attributes="id python:u'lockspan_{}'.format(name)">
        &nbsp;
        <input
                tal:attributes="
                        name python:u'lock_{}'.format(name);
                        id python:u'lock_{}'.format(name);
                        onclick python:u'handlelock(\'{}\')'.format(name);
                       "
                type="checkbox"
               />
        <small style="color: silver" i18n:translate="editor_overwrite"> </small>
    </tal:block>
</tal:block>


<select
        metal:define-macro="searchfield"
        class="searchfield"
        tal:attributes="id python:name; name python:name;"
       >
        <tal:block tal:repeat="element elements">
            <option
                    tal:condition="python:not element.optgroup"
                    tal:attributes="value python:element.label; selected python:'selected' if element.selected else None"
                   >
                <tal:block tal:repeat="x python:range(element.indent)">&nbsp;&nbsp;</tal:block>
                <tal:block tal:content="python:element.label"/>
                <tal:block tal:condition="python:element.count is not None" tal:content="python:u' ({})'.format(element.count)"/>
            </option>
            <!-- 0xa0 is the unicode code-point of &nbsp; -->
            <optgroup
                    tal:condition="python:element.optgroup"
                    tal:attributes="label python:u'{}{}'.format(2*element.indent*unichr(0xa0), element.label)"
                   >
            </optgroup>
        </tal:block>
</select>


<tal:block metal:define-macro="metafieldeditor">
    <div class="label" i18n:translate="list_multiple">TEXT</div>
    <input type="checkbox" name="fieldsetting_multiple" value="1" tal:attributes="checked python:'checked' if multiple_list else None" />
    <br />
    <br />
    <div class="label" i18n:translate="list_list_values">TEXT</div>
    <textarea
        class="mediatum-admin-metafieldtype-list-elements"
        name="fieldsetting_listelements"
        rows="4"
        tal:content="value"
       />
</tal:block>
