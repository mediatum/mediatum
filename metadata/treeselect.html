<!--
  Copyright (C) since 2007, Technical University of Munich (TUM) and mediaTUM authors
  SPDX-License-Identifier: AGPL-3.0-or-later
-->
<tal:block metal:define-macro="editorfield">
    <input
        type="text"
        class="text"
        tal:attributes="
            disabled python:'disabled' if lock else None;
            style python:u'width:{}px'.format(width-26);
            name name;
            id name;
            value value;
            required required;
            "
    />
    <span tal:condition="python:lock!=0" tal:attributes="id python:u'lockspan_{}'.format(name)">&nbsp;
        <input tal:attributes="name python:u'lock_{}'.format(name); id python:u'lock_{}'.format(name); onchange python:u'handlelock(\'{}\')'.format(name)" type="checkbox"/>
        <small style="color: silver" i18n:translate="editor_overwrite">TEXT</small>
   </span>
   <button name="button" tal:attributes="onclick python:u'openPopup(\'/metatype/treeselect?name={}\', \'\', 550, 470)'.format(name)" style="horizontal-align:middle;min-width:30px;width:30px;padding:4px 4px;" type="button" i18n:attributes="title treeselect_titlepopupbutton">
       <img src="/static/img/ftree/folder.gif" style="height:14px"/>
   </button>
</tal:block>

<input metal:define-macro="searchfield" tal:attributes="name python:name; id python:name; value python:value" type="text" class="searchfield"/>

<tal:block metal:define-macro="popup">
    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
        <head>
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
            <meta content="text/html;charset=UTF-8" http-equiv="content-type"/>
            <title i18n:translate="treeselect_popup_title">TEXT</title>
            <script src="/static/js/jquery-2.0.3.js"> </script>
            <script src="/static/js/metadata/treeselect.js"> </script>
            <script tal:repeat="src html_head_javascript_src" tal:attributes="src src"> </script>
            <link rel="stylesheet" href="/static/css/metadata/treeselect.css" type="text/css" />
            <link rel="stylesheet" tal:repeat="src html_head_style_src" tal:attributes="href src" />
        </head>

        <body tal:attributes="onload python:u'init(\'{}\')'.format(name)">
            <link rel="stylesheet" href="/static/css/ftree.css" type="text/css" />
            <script src="/static/js/ftree.js"> </script>
            <div style="height:400px; overflow:auto;border:1px solid silver">
                <ul id="classtree" class="tree">
                    <li tal:attributes="id python:u'Node{}'.format(basedir.id)"><a tal:attributes="id python:unicode(basedir.id); title python:u'{} ({})'.format(basedir.getLabel(), basedir.id)" tal:content="python:basedir.getLabel()" href="#">TEXT</a>
                        <ul>
                            <li tal:attributes="parentId python:basedir.id" class="spinner.gif"><a href="#" id="node_0"> </a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <input type="hidden" name="value" id="value"/>
            <p style="text-align:center">
            <button type="button" onclick="save()" i18n:translate="treeselect_done">TEXT</button>
            </p>
        </body>
    </html>
</tal:block>
