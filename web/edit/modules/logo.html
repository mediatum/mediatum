<!--
  Copyright (C) since 2007, Technical University of Munich (TUM) and mediaTUM authors
  SPDX-License-Identifier: AGPL-3.0-or-later
-->
<tal:block metal:define-macro="edit_logo">

    <script tal:content="python:u'var id = {};'.format(id)"> </script>
    <link rel="stylesheet" href="/css/edit/modules/logo.css" type="text/css" />
    <script src="/js/edit/modules/logo.js"> </script>

    <script tal:content="python:u'var js_edit_layout_togglertip_open = \'{}\';'.format(t(language, 'edit_layout_togglertip_open'))">;</script>
    <script tal:content="python:u'var js_edit_layout_togglertip_closed = \'{}\';'.format(t(language, 'edit_layout_togglertip_closed'))">;</script>

    <div id="navigation_content">
        <div id="logo">
            <img tal:condition="python:logo==''" id="previewlogo" src="/img/empty.gif"/>
            <img tal:condition="python:logo!=''" tal:attributes="src python:u'/file/{}/{}'.format(id, logo)" id="previewlogo"/>
        </div>
        <div id="logoform">
            <form tal:attributes="action python:u'edit_content?id={}&tab={}'.format(id, tab)" tal:define="files python:node.getFiles()" method="post" enctype="multipart/form-data" name="logo">
                <input tal:attributes="value csrf" type="hidden" name="csrf_token">
                <p>
                    <span i18n:translate="edit_logo_addfile"/> <input name="updatefile" type="file" size="50"/> <button i18n:attributes="title edit_upload_upload_label" i18n:translate="edit_upload_upload_label" type="submit" name="addfile" value="submit">TEXT</button>
                </p>
                <form method="post" >
                    <input tal:attributes="value csrf" type="hidden" name="csrf_token">
                    <br/>
                    <span i18n:translate="edit_logo_link_label"/>
                    <br/>
                    <input type="text" name="logo_link" id="logo_link" tal:attributes="value python:node.get('url')" style="min-width:200px;max-width:100%"/>
                    <br/>
                    <img i18n:attributes="title edit_logo_test_title" src="/img/extlink.png" onclick="window.open($('#logo_link').val())" style="cursor:pointer"/>
                    <br/>
                    <br/>
                    <input type="hidden" name="logo" id="logofield" value=""/>
                    <input i18n:attributes="value edit_logo_savechanges" onclick="setLogo()" type="submit" name="logo_save"/>
                    <input i18n:attributes="value edit_logo_reset" type="reset" name="logo_reset"/>
                </form>
            </form>
        </div>
    </div>>
    <div style="clear:left"> </div>
    <div id="operation">  </div>

    <div id="sub_content_content">
        <div id="scrollcontainer" style="width:99%">
            <div id="scrollcontent">
                <div class="imageblock" onclick="setImage('/img/empty.gif')">
                    <p style="text-align:center;padding-top:80px" i18n:translate="edit_logo_no_logo">TEXT</p>
                </div>
  
                <tal:block tal:repeat="item logofiles">
                <div class="imageblock" tal:attributes="id python:item[1]">
                    <img tal:attributes="onclick python:u'setImage(\'/file/{}/{}\')'.format(id, item[1]); src python:u'/file/{}/{}'.format(id, item[1])" style="max-height:200px;max-width:200px" />
                    <div class="options">
                        <a href="#" tal:attributes="onclick python:'deleteLogo(this)'"><img src="/img/delete.png"/></a>
                    </div>
                </div>
                </tal:block>
            </div>
        </div>
    </div>>
    <div id="delquestion" i18n:translate="edit_logo_del_button" style="display:none">TEXT</div>

    <div id="sub_footer_module" style="overflow:hidden!important;border-width:0px!important;height:20xp;padding:0px!important;">
        <div style="position:absolute;right:5px;top:2px;font-size:11px"> </div>
    </div>

</tal:block>

<p metal:define-macro="filetype_error" i18n:translate="edit_logo_filetypeerror" class="error"/>


<tal:block metal:define-macro="uploadlogook">
    <div style="position:absolute;top:2px;right:2px;">
        <a href="#" onclick="return removeItem(this)"><img src="/img/delete.png" /></a>
    </div>
    <input type="input" class="typesel" id="image" tal:attributes="value filename"/>
</tal:block>
