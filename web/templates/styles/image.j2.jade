//
  Copyright (C) since 2007, Technical University of Munich (TUM) and mediaTUM authors
  SPDX-License-Identifier: AGPL-3.0-or-later

- extends "styles/base.j2.jade"
- from "styles/macros.j2.jade" import metis, archive, format

- block top
  = metis(metis_url)

-block before_metadata
  .object_image.object_column.left.mediatum_paddingimg
    if data_access and (has_original or image_formats)
      a(href=image_url, onclick="vgwPixelCall();", target='_blank')
        if node.get('width') != '' and node.get('width') >= node.get('height')
            img(src=presentation_url, style="width:300px;cursor:pointer;border:1px double silver;", border="1px")
        else
          img(src=presentation_url, style="max-width:300px;max-height:300px;cursor:pointer;border:1px double silver;", border="1px")

      if image_formats
        = format(image_formats)

      if highres_url
        = archive(highres_url, archive_fetch_url)

    elif image_formats
      a(href=preferred_image_url, onclick="vgwPixelCall();", target='_blank')
        img(src=presentation_url, style="width: 300px;border:1px double silver;", border="1px")

      = format(image_formats)

    else
      img(src=presentation_url, style="width: 300px;border:1px double silver;", border="1px")
