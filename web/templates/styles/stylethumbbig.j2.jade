//
  Copyright (C) since 2007, Technical University of Munich (TUM) and mediaTUM authors
  SPDX-License-Identifier: AGPL-3.0-or-later

- from "styles/macros.j2.jade" import itemsperpage

= itemsperpage(nodesperpage, nodesperpage_options)

each file in files
  .preview(onmouseover="this.style.backgroundColor='#cccccc'", onmouseout="this.style.backgroundColor='white'")
    if file.attachment
      div
        img(title=_t('view_list_att_title'), src='/static/img/attach.png')
    a(href=file.getLink(), target='_parent')
      div
        if (file.node.get('width') or 0) > (file.node.get('height') or 0)
          img.thumbnail(src='/thumb2/{}'.format(file.node.id), border='0')
        if (file.node.get('width') or 0) < (file.node.get('height') or 0)
          img.thumbnail(src='/thumb2/{}'.format(file.node.id), border='0')
        if file.node.get('width') == file.node.get('height')
          p
            = file.text
.break
