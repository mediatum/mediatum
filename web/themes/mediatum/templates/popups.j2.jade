//
  Copyright (C) since 2007, Technical University of Munich (TUM) and mediaTUM authors
  SPDX-License-Identifier: AGPL-3.0-or-later

- macro show_help(field)
  <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
  html(xmlns="http://www.w3.org/1999/xhtml")
    head
      meta(http-equiv='Content-Type', content='text/html; charset=UTF-8')
      meta(content='text/html;charset=UTF-8', http-equiv='content-type')
      title
        = translate('popup_help_header')
      link(rel='stylesheet', href='/static/css/mediatum.css')
      style(type='text/css').
        body {
          margin: 5px;
          padding: 0px;
        }
    body
      div(style='width:100%; height:30px')
        h2
          = translate('popup_help_title')
          b
            = '"' + field.getLabel() + '"'
      div(style='width:100%; height:150px')
        br
        p
          = field.getDescription()
      div(style='width:100%; height:50px', valign='bottom')
        p(align='center')
          button(type='button', onclick='self.close()')
            = translate('close_window')


- macro attachmentbrowser(files, sum_size, id, path)
  <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
  html(xmlns="http://www.w3.org/1999/xhtml")
    head
      title
        = translate('att_browser_title')
      link(rel='stylesheet', href='/static/css/tum.css')
      link(rel='stylesheet', href='/static/css/admin/admin.css')
    body(style='margin:5px')
      h3
        = translate('att_browser_title')
      form
        {{request.csrf_token}}
        table.overview
          tr
            th(width='30px')
              = translate('att_browser_type')
            th(align='left')
              =translate('att_browser_name')
            th(align='right')
              =translate('att_browser_size')
          each file in files
            tr
              - var cssclass = files.index(file)%2 and 'norm' or 'silver'
              if (file['type'] == 'dir') or (file['type'] == 'back')
                td(class=cssclass, align='center')
                  a(href='/attachmentbrowser?id={}&path={}'.format(id, file['req_path']))
                    img(src='/static/img/{}'.format(file['icon']), border='0')
                td(class=cssclass, valign='top')
                  a(href='/attachmentbrowser?id={}&path={}'.format(id, file['req_path']))
                    = file['name']
                td(class=cssclass) &nbsp;
              if (file['type'] != 'dir') and (file['type'] != 'back')
                td(class=cssclass, align='center')
                  a(href='/attfile/{}/{}'.format(id, file['path']), target='_blank')
                    img(src='/static/img/{}'.format(file['icon']), border='0')
                td(class=cssclass)
                  a(href='attfile/{}/{}'.format(id, file['path']), target='_blank')
                    = file['name']
                td(class=cssclass, align='right')
                  small
                    = file['size']
                    | &nbsp;
          tr
            th(colspan='2', align='left')
              = '(' + files|length|string
              = translate('att_browser_files') + ')'
            th(align='right')
              = sum_size
