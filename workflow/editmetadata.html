<!--
  Copyright (C) since 2007, Technical University of Munich (TUM) and mediaTUM authors
  SPDX-License-Identifier: AGPL-3.0-or-later
-->
<tal:block  metal:define-macro="workflow_metadateneditor">
    <form id="mediatum-workflow-editmetadata-key" action="/mask" method="post">
        <input type="hidden" name="mediatum-workflow-editmetadata-keyinput"/>
        <input tal:attributes="value csrf" type="hidden" name="csrf_token"/>
        <input tal:attributes="value idstr" type="hidden" name="id"/>
        <input tal:attributes="value obj" type="hidden" name="obj"/>
    </form>
    <form id="mediatum-workflow-editmetadata-form" class="edit" action="/mask" method="post" style="position:relative!important;">
        <!-- Prevent implicit submission of the form -->
        <button type="submit" disabled="disabled" style="display: none;" aria-hidden="true"> </button>
        <input tal:attributes="value csrf" type="hidden" name="csrf_token">
        <div class="mediatum_clean-container" style="overflow:hidden;position:relative;padding-right:10px;">
            <span tal:replace="raw error"/>
            <input tal:attributes="value key" type="hidden" name="key"/>
            <input type="hidden" name="metaDataEditor" value="metaDataEditor"/>
            <div style="position:relative">
                <div tal:condition="python:pretext!=''" tal:content="raw pretext" class="pretext">TEXT</div>

                <div tal:content="raw mask">TEXT</div>
                <div style="clear:left;"> </div>

                <div style="padding-bottom:20px;">
                    <div class="label">&nbsp;</div>
                    <img src="/static/img/emtyDot1Pix.gif" style="width:16px"/>
                    (<span class="required">*</span> <span i18n:translate="admin_mandatory_info"/>)
                </div>
            </div>
        </div>
        <div tal:condition="python:posttext!=''" tal:content="raw posttext" class="posttext">TEXT</div>
        <tal:block tal:replace="raw buttons"/>
    </form>
    <script src="/static/js/mediatum.js"> </script>
    <script src="/static/js/workflow/workflow.js"> </script>
</tal:block>

<div metal:define-macro="maskerror">
    <p class="error" i18n:translate="wf_nomaskfound">TEXT</p>
</div>

<metal:block metal:define-macro="workflow_step_type_config">
    <div>
        <label for="stepsetting_mask" i18n:translate="admin_wfstep_editor_mask"> </label>
        <input type="text" name="stepsetting_mask" id="stepsetting_mask" tal:attributes="value mask"/>
    </div>
</metal:block>
